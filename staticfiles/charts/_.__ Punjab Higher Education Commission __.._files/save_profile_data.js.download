
function check_my_institute()
{
	 var id = $( "select#select_institite option:selected").val();
	 //alert(id);
	 if (id)
	 {
		 id = parseInt(id);
		 if (id == 1)
		 {
			$(".college_area").css('display', 'none');
			$(".medical_college").css('display', 'none');
			$(".university_area").css('display', 'block');
			load_degree_title();
		 }
		 else if (id == 2)
		 {
			$(".university_area").css('display', 'none'); 
			$(".medical_college").css('display', 'none');
			$(".college_area").css('display', 'block');
			$('#degree_area').html('<input type="text" id="program_title" name="program_title" value="" required placeholder="Degree Title" maxlength="30" class="txtOnly" />');
		 }
		 else if (id == 3)
		 {
			$(".university_area").css('display', 'none'); 
			$(".college_area").css('display', 'none');
			$(".medical_college").css('display', 'block');
			$('#degree_area').html('<input type="text" id="program_title" name="program_title" value="" required placeholder="Degree Title" maxlength="30" class="txtOnly" />');
		 }
		 else
		 {
			$(".college_area").css('display', 'none');
			$(".university_area").css('display', 'none');
			$(".medical_college").css('display', 'none');
			$('#degree_area').html('<input type="text" id="program_title" name="program_title" value="" required placeholder="Degree Title" maxlength="30" class="txtOnly" />');
		 }
	 }
}
function chk_institute()
{
	 var id = $( "select#institite option:selected").val();
	 //alert(id);
	 if (id)
	 {
		 id = parseInt(id);
		 if (id == 1)
		 {
			$(".college_area").css('display', 'none');
			$(".medical_college").css('display', 'none');
			$(".university_area").css('display', 'block');
		 }
		 else if (id == 2)
		 {
			$(".university_area").css('display', 'none'); 
			$(".medical_college").css('display', 'none');
			$(".college_area").css('display', 'block');
		 }
		 else if (id == 3)
		 {
			$(".university_area").css('display', 'none'); 
			$(".college_area").css('display', 'none');
			$(".medical_college").css('display', 'block');
		 }
		 else
		 {
			$(".college_area").css('display', 'none');
			$(".university_area").css('display', 'none');
			$(".medical_college").css('display', 'none');
		 }
	 }
}
function check_status(index)
{
	 var id = $( "select#currently_employed_"+index+" option:selected").val();
	 if (id)
	 {
		 id = parseInt(id);
		 if (id == 2)
		 {
			$("#job_end_date_"+index).css('display', 'block');
		 }
		 else
		 {
			$("#job_end_date_"+index).css('display', 'none'); 
			$("#job_end_date_"+index).val(""); 
		 }
	 }
}
function call_js()
{
	//alert('i ma ');	
	$('#tab_1_review').hide();
	$('#tab_2_review').hide();
	$('#tab_3_review').hide();
	$('#tab_4_review').hide();
	$('#tab_5_review').hide();
	$('#tab_6_review').hide();
	$('#tab_7_review').hide();
	$('#tab_8_review').hide();
	$('#tab_9_review').hide();
}

function selectCountry(id, index, name) 

{

	$("#search-box_"+index).val(name);

	$("#major_fields_id_"+index).val(id);



	 id = parseInt(id);

	 if (id == 0)



	 {



		$("#field_study_other_"+index).css('display', 'block');



	 }



	 else



	 {



		$("#field_study_other_"+index).css('display', 'none');



	 }

	 	 

	 

	$("#suggesstion-box_"+index).hide();

	

	

}

function auto_complete_fields(index, val)

{

   var keyword = $(val).val();

   var post_url = window.location.protocol + "//" + window.location.host + "/";

   //alert(keyword);

   //alert(index);

   $.ajax({

	  type: "POST",

	  url: post_url+"major_fields.php",

	  data:'keyword='+keyword+'&index='+index,

	  beforeSend: function(){

		  $("#search-box_"+index).css("background","#FFF url(LoaderIcon.gif) no-repeat 129px");

	  },

	  success: function(data){

		  $("#suggesstion-box_"+index).show();

		  $("#suggesstion-box_"+index).html(data);

		  $("#search-box_"+index).css("background","#FFF");

	  }

	  });

	

} 

function remove_studyplan_row(index)
{
	var result = confirm("Are you sure you want to delete?");
	if (result) {
		$('#studyplanRow_'+index).remove();
	}
}

function remove_experience_row(index)



{



	var result = confirm("Are you sure you want to delete?");



	if (result) {



		$('#experienceRow_'+index).remove();



	}



}

function remove_row(index)



{



	var result = confirm("Are you sure you want to delete?");



	if (result) {

		var counter =  parseInt($("#counter_edu").val());
			counter = counter - 1;
			$("#counter_edu").val(counter);

		$('#myTableRow_'+index).remove();



	}



}



function load_programs(index)
{
	 var id = $( "select#quailfication_id_"+index+" option:selected").val();
	 if (id)
	 {
		 id = parseInt(id);
		 if (id > 2)
		 {
			$('#field_study_'+index).hide(); 
			$('#field_study_'+index).val(""); 
			$('#search-box_'+index).show(); 
			 var field_study_list = $( "#major_fields_id_"+index).val();
			 var field_study_other = $( "#field_study_other_"+index).val();
			field_study_list = parseInt(field_study_list); 
			if (field_study_list == 0 && field_study_other)
			{
				$('#field_study_other_'+index).show();  
			}
		 }
		 else
		 {
			$('#field_study_'+index).show(); 
			$('#search-box_'+index).hide();  
			$('#field_study_other_'+index).hide();  
			$('#search-box_'+index).val(""); 
			$('#field_study_other_'+index).val(""); 
			$('#field_study_other_'+index).val(""); 
		 }
		$('#ajax_loading_edu').css('display', 'inline-block');
		var tbl = 'degree_programs';
		$.ajax({
			  type: "POST",
			  url: "load_programs.php",
			  data: "tbl="+ tbl +"& id="+ id,
			  success: function(html){
				  //$('#ajax_loading_edu').css('display', 'none');
				  $("#program_title_"+index).html(html);
			  }

		  });
		  var tbl = 'institute_list';
		$.ajax({
			  type: "POST",
			  url: "load_institutes.php",
			  data: "tbl="+ tbl +"& id="+ id,
			  success: function(html){
				  $('#ajax_loading_edu').css('display', 'none');
				  $("#institute_"+index).html(html);
			  }
		  });
		  
		  var tbl = 'postdoc_discipline';
		$.ajax({
			  type: "POST",
			  url: "load_discipline.php",
			  data: "tbl="+ tbl +"& id="+ id,
			  success: function(html){
				  $('#ajax_loading_edu').css('display', 'none');
				  $("#postdoc_discipline_id_"+index).html(html);
			  }
		  });
	 }
	 else
	 {
		$('#ajax_loading_edu').css('display', 'none');
	 }
}

function check_program(index)

{

	 var id = $( "select#program_title_"+index+" option:selected").val();

	 if (id == "not")

	 {

		$("#program_text_"+index).css('display', 'block');

	 }

	 else

	 {

		$("#program_text_"+index).css('display', 'none');

	 }

}
function check_university(index)
{
	 var cnt = parseInt(index);
	 if (cnt == 1)
	 {
		 var id = $( "select#fst_uni option:selected").val();
	 
		 if (id == "not")
		 {
			$("#foreign_university_1_other").css('display', 'block');
		 }
		 else
		 {
			$("#foreign_university_1_other").css('display', 'none');
		 } 
	 }
	 else
	 {
		 var id = $( "select#sec_uni option:selected").val();
	 
		 if (id == "not")
		 {
			$("#foreign_university_2_other").css('display', 'block');
		 }
		 else
		 {
			$("#foreign_university_2_other").css('display', 'none');
		 } 
	 }
	 
}



function field_study_other(index)



{



	 var id = $( "select#major_fields_id_"+index+" option:selected").val();



	 if (id == "not")



	 {



		$("#field_study_other_"+index).css('display', 'block');



	 }



	 else



	 {



		$("#field_study_other_"+index).css('display', 'none');



	 }



}



function check_institute(index)



{



	 var id = $( "select#institute_"+index+" option:selected").val();



	 if (id == "not")



	 {



		$("#institute_text_"+index).css('display', 'block');



	 }



	 else



	 {



		$("#institute_text_"+index).css('display', 'none');



	 }



}

function checkabove()
{
	  if(document.getElementById("same_add").checked)
	  {
			document.getElementById("current_province").value =  parseInt($( "select#permanent_province option:selected").val());
			
			/*alert(selected_text);
			alert(selected_val);*/
			var district_text = $( "select#permanent_district option:selected").text();
			var district_val = $( "select#permanent_district option:selected").val();
			$('<option value="'+district_val+'" selected>'+district_text+'</option>').appendTo("#current_district");
			
			var city_text = $( "select#permanent_city option:selected").text();
			var city_val = $( "select#permanent_city option:selected").val();
			$('<option value="'+city_val+'" selected>'+city_text+'</option>').appendTo("#current_city");
			
			
			$("#current_address").val($("#permanent_address").val());
	  }
	  else
	 {
	   	 $("#current_province").val('');
		 $('#current_district option:selected').remove();
		 $('#current_city option:selected').remove();
		 
		 
		 $("#current_address").val('');
		 
	 }  
}
function checkWordCount(){
    var is_count = 0;
	s = document.getElementById("proposal").value;
    s = s.replace(/(^\s*)|(\s*$)/gi,"");
    s = s.replace(/[ ]{2,}/gi," ");
    s = s.replace(/\n /,"\n");
    if (s.split(' ').length > 1200) {
        //alert(s.split(' ').length);
		is_count = 1;
    }
	return is_count;
}

$(document).ready(function (e) {

	$("#form_tellme").on('submit',(function(e) {
		e.preventDefault();
		tab = 1;

		var next_tab = parseInt(tab) + 1;
		
		var user_id = $('#user_id').val();

		if (user_id)
		{
			$('.save_error_tellme').hide();
			$('#cnic_error_tellme').hide();
			$('#photo_error_tellme').hide();
			$('#age_error_tellme').hide();
			$('#ajax_loading_tellme').show();
		
			$.ajax({
				url: "save_tellme.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds
				{

					$('#ajax_loading_tellme').hide();
					var new_str = data;
					var key_array = new_str.split("_"); 
					
					if (key_array[0])
					{
						var uniquekey = key_array[0];
					}
					if (key_array[1])
					{
						var new_data = parseInt(key_array[1]);
						
					}
					if (key_array[2])
					{
						var pid = key_array[2];
						
					}
					
					
					//alert(new_data);
					if (new_data == -3)
					{
						$('#photo_error_tellme').show();
					}
					else if (new_data == -1)
					{
						$('#photo_error_tellme').hide();
						$('#cnic_error_tellme').show();
					}
					else if (new_data == -2)
					{
						//alert('i am here');
						$('#photo_error_tellme').hide();
						$('#cnic_error_tellme').hide();
						$('#age_error_tellme').show();
						
					}
					else if (new_data == -4)
					{
						//alert('i am here');
						$('#photo_error_tellme').hide();
						$('#cnic_error_tellme').hide();
						$('#age_error_tellme').hide();
						$('#subcmp_error_tellme').show();
						
					}
					else if (new_data == 0)
					{
						$('#photo_error_tellme').hide();
						$('#cnic_error_tellme').hide();
						$('#age_error_tellme').hide();
						$('#subcmp_error_tellme').hide();
						$('.save_error_tellme').show();
					}
					else
					{
							//alert(new_data);
						$('#photo_error_tellme').hide();
						$('.save_error_tellme').hide();
						$('#cnic_error_tellme').hide();
						$('#age_error_tellme').hide();
						$('#subcmp_error_tellme').hide();
						$('html,body').scrollTop(0);
						
						$('#tab_1').removeClass( "disabledTab" );
						$('#tab_2').removeClass( "disabledTab" );
						$('#tab_3').removeClass( "disabledTab" );
						$('#tab_4').removeClass( "disabledTab" );
						$('#tab_5').removeClass( "disabledTab" );
						$('#tab_6').removeClass( "disabledTab" );
						$('#tab_7').removeClass( "disabledTab" );
						$('#tab_8').removeClass( "disabledTab" );
						$('#tab_9').removeClass( "disabledTab" );	
						$('#tab_10').removeClass( "disabledTab" );	
						$('#tab_11').removeClass( "disabledTab" );
						
						$('a#review_anch').show();
						$('a#review_anch').css('display', 'block');
						var path = "pdf/mpdf60/examples/document_file.php?pid="+pid+"&key="+uniquekey+"";
						var url = window.location.protocol + "//" + window.location.host + "/"+path;
						$("a#review_anch").attr("href", url);
						
						if (pid)
						{
							//alert(pid);
							$('.record_id').val(pid);

						}
						show_tab(next_tab);
					}
				}	        

		   });
		}
		else
		{
			alert('please login to save data');
			return false;
		}
	}));


	$("#profile_address").on('submit',(function(e) {



		e.preventDefault();



		tab = 2;



		var next_tab = parseInt(tab) + 1;



		

		var permanent_country = parseInt($( "select#permanent_country option:selected").val());

		var permanent_province = $( "select#permanent_province option:selected").val();

		var permanent_abroad_province = $('#permanent_abroad_province').val();

		

		$('#permanent_province').removeClass( "border_2" );	

		$('#permanent_abroad_province').removeClass( "border_2" );	

		if (permanent_country == 167)

		{

			if (!permanent_province)

			{

				$('#permanent_province').focus();

				$('#permanent_province').addClass( "border_2" );

				return false;

			}

			else

			{

				$('#permanent_province').removeClass( "border_2" );	

	

			}	

		}

		else

		{

			if (!permanent_abroad_province)

			{

				$('#permanent_abroad_province').focus();

				$('#permanent_abroad_province').addClass( "border_2" );

				return false;

			}

			else

			{

				$('#permanent_abroad_province').removeClass( "border_2" );	

	

			}

			

		}

		

		var permanent_district = $( "select#permanent_district option:selected").val();

		var permanent_abroad_district = $('#permanent_abroad_district').val();

		

		$('#permanent_district').removeClass( "border_2" );	

		$('#permanent_abroad_district').removeClass( "border_2" );	

		if (permanent_country == 167)

		{

			if (!permanent_district)

			{

				$('#permanent_district').focus();

				$('#permanent_district').addClass( "border_2" );

				return false;

			}

			else

			{

				$('#permanent_district').removeClass( "border_2" );	

	

			}	

		}

		else

		{

			if (!permanent_abroad_district)

			{

				$('#permanent_abroad_district').focus();

				$('#permanent_abroad_district').addClass( "border_2" );

				return false;

			}

			else

			{

				$('#permanent_abroad_district').removeClass( "border_2" );	

	

			}

			

		}

		

		var permanent_city = $( "select#permanent_city option:selected").val();

		var permanent_abroad_city = $('#permanent_abroad_city').val();

		

		$('#permanent_city').removeClass( "border_2" );	

		$('#permanent_abroad_city').removeClass( "border_2" );	

		if (permanent_country == 167)

		{

			if (!permanent_city)

			{

				$('#permanent_city').focus();

				$('#permanent_city').addClass( "border_2" );

				return false;

			}

			else

			{

				$('#permanent_city').removeClass( "border_2" );	

	

			}	

		}

		else

		{

			if (!permanent_abroad_city)

			{

				$('#permanent_abroad_city').focus();

				$('#permanent_abroad_city').addClass( "border_2" );

				return false;

			}

			else

			{

				$('#permanent_abroad_city').removeClass( "border_2" );	

	

			}

			

		}

		

				

		var user_id = $('#user_id').val();	

		var action = $(e.target).find("input[type=submit]:focus");



		if (action[0])

		{

			var submit_clicked = action[0].className;

		}

		else

		{

			var submit_clicked = 'save';

		}



		//alert(submit_clicked);



		



		if (user_id)



		{



			$('.save_error_address').hide();



			//alert(eligibility);



			$('#ajax_loading_address').show();



			



			$.ajax({



				url: "save_profile_address.php",   	// Url to which the request is send



				type: "POST",      				// Type of request to be send, called as method



				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 



				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"



				cache: false,					// To unable request pages to be cached



				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)



				success: function(data)  		// A function to be called if request succeeds



				{



					$('#ajax_loading_address').hide();



					



					var new_data = parseInt(data);



					if (new_data == 0)



					{



						$('.save_error_address').show();



					}



					else



					{



							//alert(new_data);



						$('.save_error_address').hide();



						if (submit_clicked == 'save')



						{



							$('html,body').scrollTop(0);



							/*if (!isNaN(new_data))

							{

								$('.record_id').val(new_data);

							}*/



							show_tab(next_tab);



						}



						else



						{



							//alert('else');



							var newURL = window.location.protocol + "//" + window.location.host + "/index.php";



							//alert(newURL);



							window.location = newURL;



						}



						



					}



				}	        



		   });



		}



		else



		{



			alert('please login to save data');



			return false;



		}



	}));



	$("#profile_education").on('submit',(function(e) {

		//alert('i am here');
		e.preventDefault();

		tab = 3;

		var next_tab = parseInt(tab) + 7;

		//alert(next_tab);

		var user_id = $('#user_id').val();	

		

		var action = $(e.target).find("input[type=submit]:focus");

		//var submit_clicked = action[0].className;
		
		if (action[0])
		{
			var submit_clicked = action[0].className;
		}
		else
		{
			var submit_clicked = 'save';
		}

		

		var counter_edu = parseInt($('#counter_edu').val());

		if (counter_edu)

		{

			//alert(counter_edu);
			for (i = 1; i <= counter_edu; i++) 

			{ 

				var quailfication_id = $( "select#quailfication_id_"+i+" option:selected").val();

				//alert(quailfication_id);
				if (quailfication_id)

				{

					$('#quailfication_id_'+i).removeClass( "border_2" );	
					
					var program_title = $( "select#program_title_"+i+" option:selected").val();

					var program_text = $('#program_text_'+i).val();			

					if ((!program_title || program_title == "not")  && !program_text)

					{

						$('#program_title_'+i).focus();

						$('#program_title_'+i).addClass( "border_2" );

						return false;

					}

					else

					{

						$('#program_title_'+i).removeClass( "border_2" );	

					}

					

					var institute = $( "select#institute_"+i+" option:selected").val();

					var institute_text = $('#institute_text_'+i).val();			

					if ((!institute || institute == "not") && !institute_text)

					{

						$('#institute_'+i).focus();

						$('#institute_'+i).addClass( "border_2" );

						return false;

					}

					else

					{

						$('#institute_'+i).removeClass( "border_2" );	

					}

					var postdoc_discipline_id = $( "select#postdoc_discipline_id_"+i+" option:selected").val();

					if (!postdoc_discipline_id)
					{
						$('#postdoc_discipline_id_'+i).focus();
						$('#postdoc_discipline_id_'+i).addClass( "border_2" );
						return false;
					}
					else
					{
						$('#postdoc_discipline_id_'+i).removeClass( "border_2" );	
					}					
					
					var obtained_marks = $('#obtained_marks_'+i).val();	
					var total_marks = $('#total_marks_'+i).val();
					var obtained_cgpa = $('#obtained_cgpa_'+i).val();
					//var total_cgpa = $('#total_cgpa_'+i).val();		
					$('#obtained_cgpa_'+i).removeClass( "border_2" );
					//$('#total_cgpa_'+i).removeClass( "border_2" );	
					
					if (!obtained_marks)

					{

						$('#obtained_marks_'+i).focus();

						$('#obtained_marks_'+i).addClass( "border_2" );

						return false;

					}

					else

					{

						$('#obtained_marks_'+i).removeClass( "border_2" );	

					}	

					if (!total_marks)

					{

						$('#total_marks_'+i).focus();

						$('#total_marks_'+i).addClass( "border_2" );

						return false;

					}

					else

					{

						$('#total_marks_'+i).removeClass( "border_2" );	

					}
					
					/*if (!obtained_cgpa)

					{

						$('#obtained_cgpa_'+i).focus();

						$('#obtained_cgpa_'+i).addClass( "border_2" );

						return false;

					}

					else

					{

						$('#obtained_cgpa_'+i).removeClass( "border_2" );	

					} */	

						
					
					

					var degree_complete_date = $( "#degree_complete_date_"+i).val();

					

					if (!degree_complete_date || (degree_complete_date == "0000-00-00"))

					{

						$('#degree_complete_date_'+i).focus();

						$('#degree_complete_date_'+i).addClass( "border_2" );

						return false;

					}

					else

					{

						$('#degree_complete_date_'+i).removeClass( "border_2" );	

					}
					
				}
				else
				{
					$('#quailfication_id_'+i).focus();
					$('#quailfication_id_'+i).addClass( "border_2" );
					return false;	
				}

			}

		}

		if (user_id)

		{

			$('.save_error_education').hide();
			$('#quali_error_education').hide();
			$('#marks_error_education').hide();
			$('#large_marks_error_education').hide();
			$('#total_cgpa_error_education').hide();

			//alert(eligibility);

			$('#ajax_loading_education').show();

			

			$.ajax({

				url: "save_profile_education.php",   	// Url to which the request is send

				type: "POST",      				// Type of request to be send, called as method

				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 

				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"

				cache: false,					// To unable request pages to be cached

				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)

				success: function(data)  		// A function to be called if request succeeds

				{

					$('#ajax_loading_education').hide();

					var new_data = parseInt(data);

					if (new_data == -1)

					{

						$('#marks_error_education').hide();
						$('#large_marks_error_education').hide();
						$('#total_cgpa_error_education').hide();
						$('.save_error_education').hide();
						$('#quali_error_education').show();

					}
					else if (new_data == -2)
					{
						$('#marks_error_education').show();
						$('#large_marks_error_education').hide();
						$('#total_cgpa_error_education').hide();
						$('.save_error_education').hide();
						$('#quali_error_education').hide();
					}
					else if (new_data == -3)
					{
						$('#large_marks_error_education').show();
						$('#total_cgpa_error_education').hide();
						$('#marks_error_education').hide();
						$('.save_error_education').hide();
						$('#quali_error_education').hide();
					}
					else if (new_data == -4)
					{
						$('#total_cgpa_error_education').show();
						$('#large_marks_error_education').hide();
						$('#marks_error_education').hide();
						$('.save_error_education').hide();
						$('#quali_error_education').hide();
					}
					else if (new_data == 0)

					{

						$('#marks_error_education').hide();
						$('#large_marks_error_education').hide();
						$('#total_cgpa_error_education').hide();
						$('#quali_error_education').hide();
						$('.save_error_education').show();

					}

					else

					{

							//alert(new_data);

						$('#marks_error_education').hide();
						$('#large_marks_error_education').hide();
						$('#total_cgpa_error_education').hide();
						$('#quali_error_education').hide();
						
						$('.save_error_education').hide();

						if (submit_clicked == 'save')

						{

							$('html,body').scrollTop(0);

							/*if (!isNaN(new_data))
							{
								//alert(new_data);
								$('.record_id').val(new_data);
							}*/

							show_tab(next_tab);

						}

						else

						{

							//alert('else');

							var newURL = window.location.protocol + "//" + window.location.host + "/index.php";

							//alert(newURL);

							window.location = newURL;

						}

						

					} 

				}	        

		   });

		}

		else

		{

			alert('please login to save data');

			return false;

		}

	}));
	
	$("#form_employment").on('submit',(function(e) {
		e.preventDefault();
		tab = 4;
		
		var next_tab = parseInt(tab) + 1;
				
		var user_id = $('#user_id').val();	
		
		var action = $(e.target).find("input[type=submit]:focus");

		//var submit_clicked = action[0].className;
		
		if (action[0])
		{
			var submit_clicked = action[0].className;
		}
		else
		{
			var submit_clicked = 'save';
		}
		
	//alert(user_id);
		if (user_id)
		{
			
			
			$('.save_error_employment').hide();
			$('#ajax_loading_employment').show();
			$.ajax({
				url: "save_profile_employment.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds

				{
					$('#ajax_loading_employment').hide();
					
					var new_data = parseInt(data);
					if (new_data == 0)
					{
						$('.save_error_employment').show();	
					}
					else
					{
						//alert(new_data);
						$('.save_error_employment').hide();
						
						if (submit_clicked == 'save')
						{
							$('html,body').scrollTop(0);
							show_tab(next_tab);
						}
						else
						{
							//alert('else');
							//ar newURL = window.location.protocol + "//" + window.location.host + "/job_apps.php";
							//alert(newURL);
							var newURL = window.location.protocol + "//" + window.location.host + "/index.php";
							window.location = newURL;
						}
						
					}
				}	        
		   });
		}
			else
	
			{
				alert('please login to save data');
				return false;
			}
		
	}));
	
	$("#form_family_member").on('submit',(function(e) {
		e.preventDefault();
		tab = 6;
		var next_tab = parseInt(tab) + 1;
		
		var action = $(e.target).find("input[type=submit]:focus");
		if (action[0])
		{
			var submit_clicked = action[0].className;
		}
		else
		{
			var submit_clicked = 'save';
		}
		//alert(submit_clicked);
		
		var record_id = $('.record_id').val();
		var post_url = window.location.protocol + "//" + window.location.host + "/";
		
		if (record_id)
		{
			$('#save_error_familymember').hide();
			$('#ajax_loading_familymember').show();
			
			$.ajax({
				url: post_url+"save_familymember.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds
				{
					$('#ajax_loading_familymember').hide();
					
					var new_data = parseInt(data);
					if (new_data == 0)
					{
						$('#save_error_familymember').show();
					}
					else
					{
						
						$('#save_error_familymember').hide();
						if (submit_clicked == 'save')
						{
							//alert(submit_clicked);
							$('html,body').scrollTop(0);
							$( "#tab_"+next_tab ).removeClass( "disabledTab" );
							show_tab(next_tab);
							
						}
						else
						{
							//alert('else');
							var newURL = window.location.protocol + "//" + window.location.host + "/itg_apps.php";
							//alert(newURL);
							window.location = newURL;
						}
						
						
					}
					
				}	        
		   });
		}
	}));
	
	$("#form_father_details").on('submit',(function(e) {
		e.preventDefault();
		tab = 5;
		
		var next_tab = parseInt(tab) + 1;
				
		var user_id = $('#user_id').val();	
		
		var action = $(e.target).find("input[type=submit]:focus");

		//var submit_clicked = action[0].className;
		
		if (action[0])
		{
			var submit_clicked = action[0].className;
		}
		else
		{
			var submit_clicked = 'save';
		}
		
	//alert(user_id);
		if (user_id)
		{
			
			
			$('.save_error_father').hide();
			$('#ajax_loading_father').show();
			$.ajax({
				url: "save_profile_father.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds

				{
					$('#ajax_loading_father').hide();
					
					var new_data = parseInt(data);
					if (new_data == 0)
					{
						$('.save_error_father').show();	
					}
					else
					{
						//alert(new_data);
						$('.save_error_father').hide();
						
						if (submit_clicked == 'save')
						{
							$('html,body').scrollTop(0);
							show_tab(next_tab);
						}
						else
						{
							//alert('else');
							//ar newURL = window.location.protocol + "//" + window.location.host + "/job_apps.php";
							//alert(newURL);
							var newURL = window.location.protocol + "//" + window.location.host + "/index.php";
							window.location = newURL;
						}
						
					}
				}	        
		   });
		}
			else
	
			{
				alert('please login to save data');
				return false;
			}
		
	}));
	
	$("#form_asset_incom").on('submit',(function(e) {
		e.preventDefault();
		tab = 7;
		
		var next_tab = parseInt(tab) + 1;
				
		var user_id = $('#user_id').val();	
		
		var action = $(e.target).find("input[type=submit]:focus");

		//var submit_clicked = action[0].className;
		
		if (action[0])
		{
			var submit_clicked = action[0].className;
		}
		else
		{
			var submit_clicked = 'save';
		}
		
	//alert(user_id);
		if (user_id)
		{
			
			
			$('.save_error_assetincom').hide();
			$('#ajax_loading_assetincom').show();
			$.ajax({
				url: "save_profile_assetincom.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds

				{
					$('#ajax_loading_assetincom').hide();
					
					var new_data = parseInt(data);
					if (new_data == 0)
					{
						$('.save_error_assetincom').show();	
					}
					else
					{
						//alert(new_data);
						$('.save_error_assetincom').hide();
						
						if (submit_clicked == 'save')
						{
							$('html,body').scrollTop(0);
							show_tab(next_tab);
						}
						else
						{
							//alert('else');
							//ar newURL = window.location.protocol + "//" + window.location.host + "/job_apps.php";
							//alert(newURL);
							var newURL = window.location.protocol + "//" + window.location.host + "/index.php";
							window.location = newURL;
						}
						
					}
				}	        
		   });
		}
			else
	
			{
				alert('please login to save data');
				return false;
			}
		
	}));
	
	$("#form_accommodation").on('submit',(function(e) {
		e.preventDefault();
		tab = 8;
		
		var next_tab = parseInt(tab) + 1;
				
		var user_id = $('#user_id').val();	
		
		var action = $(e.target).find("input[type=submit]:focus");

		//var submit_clicked = action[0].className;
		
		if (action[0])
		{
			var submit_clicked = action[0].className;
		}
		else
		{
			var submit_clicked = 'save';
		}
		
	//alert(user_id);
		if (user_id)
		{
			
			
			$('.save_error_accommodation').hide();
			$('#ajax_loading_accommodation').show();
			$.ajax({
				url: "save_profile_accommodation.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds

				{
					$('#ajax_loading_accommodation').hide();
					
					var new_data = parseInt(data);
					if (new_data == 0)
					{
						$('.save_error_accommodation').show();	
					}
					else
					{
						//alert(new_data);
						$('.save_error_accommodation').hide();
						
						if (submit_clicked == 'save')
						{
							$('html,body').scrollTop(0);
							show_tab(next_tab);
						}
						else
						{
							//alert('else');
							//ar newURL = window.location.protocol + "//" + window.location.host + "/job_apps.php";
							//alert(newURL);
							var newURL = window.location.protocol + "//" + window.location.host + "/index.php";
							window.location = newURL;
						}
						
					}
				}	        
		   });
		}
			else
	
			{
				alert('please login to save data');
				return false;
			}
		
	}));
	
	$("#form_familyasset").on('submit',(function(e) {
		e.preventDefault();
		tab = 10;
		
		var next_tab = parseInt(tab) + 1;
				
		var user_id = $('#user_id').val();	
		
		var action = $(e.target).find("input[type=submit]:focus");

		//var submit_clicked = action[0].className;
		
		if (action[0])
		{
			var submit_clicked = action[0].className;
		}
		else
		{
			var submit_clicked = 'save';
		}
		
	//alert(user_id);
		if (user_id)
		{
			
			
			$('.save_error_familyasset').hide();
			$('#ajax_loading_familyasset').show();
			$.ajax({
				url: "save_profile_familyasset.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds

				{
					$('#ajax_loading_familyasset').hide();
					
					var new_data = parseInt(data);
					if (new_data == 0)
					{
						$('.save_error_familyasset').show();	
					}
					else
					{
						//alert(new_data);
						$('.save_error_familyasset').hide();
						
						if (submit_clicked == 'save')
						{
							$('html,body').scrollTop(0);
							show_tab(next_tab);
						}
						else
						{
							//alert('else');
							//ar newURL = window.location.protocol + "//" + window.location.host + "/job_apps.php";
							//alert(newURL);
							var newURL = window.location.protocol + "//" + window.location.host + "/index.php";
							window.location = newURL;
						}
						
					}
				}	        
		   });
		}
			else
	
			{
				alert('please login to save data');
				return false;
			}
		
	}));
	
	$("#form_documents").on('submit',(function(e) {
		e.preventDefault();
		tab = 10;
		
		var next_tab = parseInt(tab) + 1;
				
		var user_id = $('#user_id').val();	
		
		var action = $(e.target).find("input[type=submit]:focus");

		//var submit_clicked = action[0].className;
		
		if (action[0])
		{
			var submit_clicked = action[0].className;
		}
		else
		{
			var submit_clicked = 'save';
		}
		
	//alert(user_id);
		if (user_id)
		{
			
			
			$('#image_error_documents').hide();
			$('#ajax_loading_documents').show();
			$.ajax({
				url: "save_profile_documents.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds

				{
					$('#ajax_loading_documents').hide();
					
					var new_data = parseInt(data);
					if (new_data == 2)
					{
						$('#image_error_documents').show();	
					}
					else
					{
						//alert(new_data);
						$('#image_error_documents').hide();
						
						if (submit_clicked == 'save')
						{
							$('html,body').scrollTop(0);
							show_tab(next_tab);
						}
						else
						{
							//alert('else');
							//ar newURL = window.location.protocol + "//" + window.location.host + "/job_apps.php";
							//alert(newURL);
							var newURL = window.location.protocol + "//" + window.location.host + "/index.php";
							window.location = newURL;
						}
						
					}
				}	        
		   });
		}
			else
	
			{
				alert('please login to save data');
				return false;
			}
		
	}));
	
	
	$("#research_area").on('submit',(function(e) {
		//alert('i am here');
		e.preventDefault();
		tab = 4;
		var count_result = checkWordCount();
		//alert(count_result);
		count_result = parseInt(count_result);
		var next_tab = parseInt(tab) + 1;
		
		var user_id = $('#user_id').val();

		if (count_result)
		{
			$('#word_limit_research').show();
			
			return false;
		}
		else
		{
			$('#word_limit_research').hide();
			if (user_id)
			{
				$('.save_error_research').hide();
				$('#ajax_loading_research').show();
			
				$.ajax({
					url: "save_research.php",   	// Url to which the request is send
					type: "POST",      				// Type of request to be send, called as method
					data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values
					contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
					cache: false,					// To unable request pages to be cached
					processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
					success: function(data)  		// A function to be called if request succeeds
					{
	
						$('#ajax_loading_research').hide();
						var new_data = parseInt(data);
						//alert(new_data);
						if (new_data == 0)
						{
							$('.save_error_research').show();
						}
						else
						{
								//alert(new_data);
							$('.save_error_research').hide();
							$('html,body').scrollTop(0);
							
							if (!isNaN(new_data))
							{
								$('.record_id').val(new_data);
	
							}
							show_tab(next_tab);
						}
					}	        
	
			   });
			}
			else
			{
				alert('please login to save data');
				return false;
			}
		}
	}));
	
	$("#studyplan").on('submit',(function(e) {
		e.preventDefault();
		tab = 9;

		var next_tab = parseInt(tab) + 1;
		
		var user_id = $('#user_id').val();

		if (user_id)
		{
			$('.save_error_studyplan').hide();
			$('#ajax_loading_studyplan').show();
		
			$.ajax({
				url: "save_studyplan.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds
				{

					$('#ajax_loading_studyplan').hide();
					var new_data = parseInt(data);
					//alert(new_data);
					
					if (new_data == 0)
					{
						$('.save_error_studyplan').show();
					}
					else
					{
							//alert(new_data);
						$('.save_error_studyplan').hide();
						
						
						/*var path = "pdf/mpdf60/examples/document_file.php?key="+data+"";
						var url = window.location.protocol + "//" + window.location.host + "/"+path;
						$("a#review_anch").attr("href", url);*/
						
						$('html,body').scrollTop(0);
						
						if (!isNaN(new_data))
						{
							$('.record_id').val(new_data);

						}
						show_tab(next_tab);
					}
				}	        

		   });
		}
		else
		{
			alert('please login to save data');
			return false;
		}
	}));
	
	$("#form_review").on('submit',(function(e) {
		
		e.preventDefault();
		var record_id = $('.record_id').val();
		var post_url = window.location.protocol + "//" + window.location.host + "/";
		
		if (record_id)
		{
			$('#tab_eligible_review').hide();
			$('#tab_1_review').hide();
			$('#tab_2_review').hide();
			$('#tab_3_review').hide();
			$('#tab_4_review').hide();
			$('#tab_5_review').hide();
			$('#tab_6_review').hide();
			$('#tab_7_review').hide();
			$('#tab_8_review').hide();
			$('#tab_9_review').hide();
			$('#tab_10_review').hide();
			$('#tab_11_review').hide();
			
			
			$('#save_error_review').hide();
			
			$('#ajax_loading_review').show();
			
			$.ajax({
				url: post_url+"save_review.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds
				{
					$('#ajax_loading_review').hide();
					
					var new_data = parseInt(data);
					//alert(new_data);
					//alert(new_data);
					if (new_data == -1)
					{
						$('#tab_eligible_review').show();
					}
					else if (new_data == 1)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').show();
					}
					else if (new_data == 2)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').show();
					}
					else if (new_data == 3)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').show();
					}
					else if (new_data == 4)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').show();
					}
					else if (new_data == 5)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').show();
					}
					else if (new_data == 6)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').hide();
						$('#tab_6_review').show();
					}
					else if (new_data == 7)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').hide();
						$('#tab_6_review').hide();
						$('#tab_7_review').show();
					}
					else if (new_data == 8)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').hide();
						$('#tab_6_review').hide();
						$('#tab_7_review').hide();
						$('#tab_8_review').show();
					}
					else if (new_data == 9)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').hide();
						$('#tab_6_review').hide();
						$('#tab_7_review').hide();
						$('#tab_8_review').hide();
						$('#tab_9_review').show();
					}
					
					else if (new_data == 10)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').hide();
						$('#tab_6_review').hide();
						$('#tab_7_review').hide();
						$('#tab_8_review').hide();
						$('#tab_9_review').hide();
						$('#tab_10_review').show();
					}
					else if (new_data == 11)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').hide();
						$('#tab_6_review').hide();
						$('#tab_7_review').hide();
						$('#tab_8_review').hide();
						$('#tab_9_review').hide();
						$('#tab_10_review').hide();
						$('#tab_11_review').show();
					}
					else if (new_data == 0)
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').hide();
						$('#tab_6_review').hide();
						$('#tab_7_review').hide();
						$('#tab_8_review').hide();
						$('#tab_9_review').hide();
						$('#tab_10_review').hide();
						$('#tab_11_review').hide();
						$('#save_error_review').show();
					}
					else
					{
						$('#tab_eligible_review').hide();
						$('#tab_1_review').hide();
						$('#tab_2_review').hide();
						$('#tab_3_review').hide();
						$('#tab_4_review').hide();
						$('#tab_5_review').hide();
						$('#tab_6_review').hide();
						$('#tab_7_review').hide();
						$('#tab_8_review').hide();
						$('#tab_9_review').hide();
						$('#tab_10_review').hide();
						$('#tab_11_review').hide();
						//alert(data);
						$('#save_error_review').hide();
						var newURL = window.location.protocol + "//" + window.location.host + "/itg_apps.php?id="+record_id;
							//alert(newURL);
						window.location = newURL;
					}
					
				}	        
		   });
		}
	}));
	
	$("#check_list").on('submit',(function(e) {
	e.preventDefault();
	tab = 0;
	var next_tab = parseInt(tab) + 1;
		
	var data_ok = 1;
	var min_qual = parseInt($( "select#min_qual option:selected").val());	
	var max_age = parseInt($( "select#max_age option:selected").val());
	
	var regular_faculty = parseInt($( "select#regular_faculty option:selected").val());	
	var research_proposal = parseInt($( "select#research_proposal option:selected").val());	
	var acceptance_letter = parseInt($( "select#acceptance_letter option:selected").val());	
	var other_scholarship = parseInt($( "select#other_scholarship option:selected").val());	
	var previous_fellowship = parseInt($( "select#previous_fellowship option:selected").val());	
	
	var user_id = $('#user_id').val();	
	
	
	//alert(min_qual);
	
	if (min_qual == 2 && max_age == 2 && regular_faculty == 2 && research_proposal == 2 && acceptance_letter == 2 && other_scholarship == 1 && previous_fellowship == 1)
	{
		$('#save_error_criteria').hide();
	}
	else
	{
		data_ok = 0;
		$('#save_error_criteria').show();	
		return false;	
	}
	
	if (data_ok)
	{
			
		var user_id = $('#user_id').val();
		if (user_id)
		{
			$('.save_error_check_list').hide();
			
			
			//alert(eligibility);
			$('#ajax_loading_check_list').show();
			$.ajax({
				url: "save_checklist.php",   	// Url to which the request is send
				type: "POST",      				// Type of request to be send, called as method
				data:  new FormData(this), 		// Data sent to server, a set of key/value pairs representing form fields and values 
				contentType: false,       		// The content type used when sending data to the server. Default is: "application/x-www-form-urlencoded"
				cache: false,					// To unable request pages to be cached
				processData:false,  			// To send DOMDocument or non processed data file it is set to false (i.e. data should not be in the form of string)
				success: function(data)  		// A function to be called if request succeeds
				{
					$('#ajax_loading_check_list').hide();
					var new_data = parseInt(data);
					//alert(new_data);
					if (new_data == 0)
					{
						$('.save_error_check_list').show();
						
						
					}
					else
					{
						$('.save_error_check_list').hide();
						
						
						$('html,body').scrollTop(0);
						show_tab(next_tab);

					}

				}	        

		   });

		}

		else

		{

			alert('please login to save data');

			return false;

		}
	}

	}));

// Function to preview image



});
